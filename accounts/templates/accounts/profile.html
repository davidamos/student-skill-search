<!-- accounts/templates/accounts/profile.html -->
{% extends 'base2.html' %}

{% block title %}Profile{% endblock %}
{% block content %}
<div class="profileimage">
  <div class="hometext">
    <h2 style="margin-left:15px">Edit Your Profile</h2>
    <div style="margin-left:15px;">
      <div>
        <form id="pForm" method="post">
          <table>
              <col width="200">
            {% csrf_token %}
            <!-- {{ form.as_table}} -->
            <tr>
              <th>Name:</th>
              <th style="padding-top:5;padding-bottom:5">{{form.name}}</th>
            </tr>
            <tr>
              <th>Description:</th>
              <th style="padding-top:5;padding-bottom:5">{{form.description}}</th>
            </tr>
            <tr>
              <th>Availability:</th>
              <th style="padding-top:5;padding-bottom:5">{{form.availability}}</th>
            </tr>
            <tr>
              <th>Location:</th>
              <th style="padding-top:5;padding-bottom:5">{{form.location}}</th>
            </tr>
            <tr>
              <th>Phone Number:</th>
              <th style="padding-top:5;padding-bottom:5">{{form.phone_number}}</th>
            </tr>
            <tr>
              <th>Email:</th>
              <th style="padding-top:5;padding-bottom:5">{{form.profile_email}}</th>
            </tr>
            <tr>
              <th>Home Address:</th>
              <th style="padding-top:5;padding-bottom:5">{{form.home_address}}</th>
            </tr>
            <tr>
              <th>Qualities:</th>
              <th style="padding-top:5;padding-bottom:5">{{form.qualities}}</th>
            </tr>
          </table>

          <!-- {% if user.is_searching %}
    <input type="checkbox" name="checkbox" checked> {{user.username}} is searching for a partner<br>
    {% else %}
    <input type="checkbox" name="checkbox"> {{user.username}} is not searching for a partner<br>
    {% endif %} -->

          <button type="submit" onclick="thisclick()">Update Profile</button>
        </form>
      </div>
      <script>function thisclick() {
          //window.alert(document.getElementById("pForm").innerHTML);

          // Checks if phone is a number
          //phone_val = document.getElementById("id_phone_number").value;
          //var isnum = /^\d+$/.test(phone_val);
          //if (isnum === true & phone_val.length === 10) {
          //}
          //else {
          //  window.alert("Please enter a 10 digit phone number without any special characters");
          //}

          // Checks if email is valid:
        }
      </script>
    </div>
    <div style="margin-left:15px">
    <!-- {% if user.is_searching %}
    <input type="checkbox" name="checkbox" checked> {{user.username}} is searching for a partner<br>
    {% else %}
    <input type="checkbox" name="checkbox"> {{user.username}} is not searching for a partner<br>
    {% endif %} -->
    <br>
    <!-- {% if user.image %}
    <img src="{{ user.image.url }}" width="120" alt="Error loading image">
    {% else %}
    <p>No image uploaded</p>
    {% endif %} -->
    <style>
    </style>
    <!-- <button type="submit" formaction="{% url 'post_course' %}">Add a course</button>
    <button type="submit" formaction="{% url 'list_majors' %}">Select a course</button> -->
    <h3>Courses:</h3>
    <a href="{% url 'post_course' %}" class="button"><span class="glyphicon glyphicon-plus"></span>Add a Course</a>
    <a href="{% url 'list_majors' %}" class="button"><span class="glyphicon glyphicon-plus"></span>Select a Course</a>
    <!-- <b>Courses</b>: <br> -->
    <!-- <hr> -->
    <br>
    <table style="width:100%; padding-left:15px">
      <tr>
        <th>Course Code</th>
        <th>Course Type</th>
        <th>Professor</th>
        <th>Location</th>
        <th>Days</th>
        <th>Time</th>
      </tr>
      {% for course in user.courses.all %}
        <tr>
          <td>{{course.course_code}}</td>
          {% if course.course_is_lecture %}
          <td>Lecture</td>
          {% else %}
          <td>Discussion</td>
          {% endif %}
          <td>{{course.course_professor}}</td> 
          <td>{{course.course_location}}</td>
          <td>{{course.course_days}}</td>
          <td>{{course.course_start_time}} - {{course.course_end_time}}</td>
        </tr>
      {% endfor %}
    </table>
  </div>
  </div>
</div>
{% endblock %}